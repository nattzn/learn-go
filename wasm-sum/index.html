<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Go WASM sum example</title>
</head>
<body>
  <h1>sum(a, b) WASM example</h1>
  <input id="a" type="number" value="3">
  <input id="b" type="number" value="4">
  <button id="calc">計算</button>
  <div id="result"></div>
  <script src="wasm_exec.js"></script>
  <script>
    const go = new Go();
    WebAssembly.instantiateStreaming(fetch("main.wasm"), go.importObject).then((result) => {
      go.run(result.instance);
      document.getElementById('calc').onclick = () => {
        const a = parseInt(document.getElementById('a').value, 10);
        const b = parseInt(document.getElementById('b').value, 10);
        const res = window.sum(a, b);
        document.getElementById('result').textContent = "結果: " + res;
      };
    });
  </script>
</body>
</html>
